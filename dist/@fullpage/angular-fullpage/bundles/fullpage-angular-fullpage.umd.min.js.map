{"version":3,"sources":["ng://@fullpage/angular-fullpage/lib/fullpage.directive.ts","ng://@fullpage/angular-fullpage/lib/angular-fullpage.module.ts"],"names":["fullpage","window","require","FullpageDirective","platformId","renderer","this","ref","EventEmitter","prototype","ngAfterViewInit","isPlatformBrowser","initFullpage","isPlatformServer","fullpage_api","id","options","addBuildFunction","emit","_this","build","activeSection","getActiveSection","activeSlide","getActiveSlide","destroyFullpage","addClass","item","destroy","ngOnDestroy","Directive","args","selector","Object","decorators","type","Inject","PLATFORM_ID","Renderer2","Input","Output","AnchorLinkDirective","onClick","event","href","length","preventDefault","location","hash","HostListener","AngularFullpageModule","NgModule","imports","declarations","exports"],"mappings":"4XAKIA,EAAW,KACVA,GAA8B,oBAAXC,SACtBD,EAAWE,QAAQ,6CAGrB,IAAAC,EAAA,WAUE,SAAAA,EAC+BC,EACrBC,GADqBC,KAAAF,WAAAA,EACrBE,KAAAD,SAAAA,EALAC,KAAAC,IAAM,IAAIC,EAAAA,aAmDtB,OA3CEL,EAAAM,UAAAC,gBAAA,WACMC,EAAAA,kBAAkBL,KAAKF,aACzBE,KAAKM,eAEHC,EAAAA,iBAAiBP,KAAKF,aAK5BD,EAAAM,UAAAG,aAAA,WACEN,KAAKQ,aAAe,IAAId,EAAS,IAAMM,KAAKS,GAAIT,KAAKU,SACrDV,KAAKW,mBACLX,KAAKC,IAAIW,KAAKZ,KAAKQ,eAGrBX,EAAAM,UAAAQ,iBAAA,WAAA,IAAAE,EAAAb,KACEA,KAAKQ,aAAaM,MAAQ,eAClBC,EAAgBF,EAAKL,aAAaQ,mBAClCC,EAAcJ,EAAKL,aAAaU,iBAEtCL,EAAKM,kBAEDJ,GACFF,EAAKd,SAASqB,SAASL,EAAcM,KAAM,UAGzCJ,GACFJ,EAAKd,SAASqB,SAASH,EAAYI,KAAM,UAG3CR,EAAKP,iBAITT,EAAAM,UAAAgB,gBAAA,WACmC,oBAAtBnB,KAAKQ,cAAqE,oBAA9BR,KAAKQ,aAAac,SACvEtB,KAAKQ,aAAac,QAAQ,QAI9BzB,EAAAM,UAAAoB,YAAA,WACEvB,KAAKmB,uCAxDRK,EAAAA,UAASC,KAAA,CAAC,CAETC,SAAU,0DASiCC,OAAMC,WAAA,CAAA,CAAAC,KAA9CC,EAAAA,OAAML,KAAA,CAACM,EAAAA,sBApB+DC,EAAAA,yCAcxEC,EAAAA,uBACAA,EAAAA,mBACAC,EAAAA,UAmDHrC,EA1DA,gBA4DA,SAAAsC,KAaA,OANqCA,EAAAhC,UAAAiC,QAAnC,SAA2CC,GAClB,EAAnBrC,KAAKsC,KAAKC,QAA+B,MAAjBvC,KAAKsC,KAAK,KACpCD,EAAMG,iBACN7C,OAAO8C,SAASC,KAAO1C,KAAKsC,2BAVjCd,EAAAA,UAASC,KAAA,CAAC,CAETC,SAAW,2CAGVO,EAAAA,uBAEAU,EAAAA,aAAYlB,KAAA,CAAC,QAAS,CAAC,cAM1BU,KCnFAS,EAAA,WAGA,SAAAA,KAKqC,2BALpCC,EAAAA,SAAQpB,KAAA,CAAC,CACRqB,QAAS,GACTC,aAAc,CAAClD,EAAmBsC,GAClCa,QAAS,CAACnD,EAAmBsC,OAEMS,EARrC","sourcesContent":["// tslint:disable-next-line:max-line-length\r\nimport { Directive, Input, AfterViewInit, OnDestroy, Output, EventEmitter, Renderer2, HostListener, PLATFORM_ID, Inject } from '@angular/core';\r\nimport { isPlatformBrowser, isPlatformServer } from '@angular/common';\r\n\r\ndeclare var require;\r\nlet fullpage = null;\r\nif (!fullpage && typeof window !== 'undefined') {\r\n  fullpage = require('fullpage.js/dist/fullpage.extensions.min');\r\n}\r\n\r\n@Directive({\r\n  // tslint:disable-next-line:directive-selector\r\n  selector: '[fullpage]'\r\n})\r\nexport class FullpageDirective implements AfterViewInit, OnDestroy {\r\n  @Input() id;\r\n  @Input() options;\r\n  @Output() ref = new EventEmitter();\r\n  fullpage_api;\r\n\r\n  constructor(\r\n    @Inject(PLATFORM_ID) private platformId: Object,\r\n    private renderer: Renderer2\r\n  ) { }\r\n\r\n  ngAfterViewInit() {\r\n    if (isPlatformBrowser(this.platformId)) {\r\n      this.initFullpage();\r\n    }\r\n    if (isPlatformServer(this.platformId)) {\r\n      // server side code\r\n    }\r\n  }\r\n\r\n  initFullpage() {\r\n    this.fullpage_api = new fullpage('#' + this.id, this.options);\r\n    this.addBuildFunction();\r\n    this.ref.emit(this.fullpage_api);\r\n  }\r\n\r\n  addBuildFunction() {\r\n    this.fullpage_api.build = () => {\r\n      const activeSection = this.fullpage_api.getActiveSection();\r\n      const activeSlide = this.fullpage_api.getActiveSlide();\r\n\r\n      this.destroyFullpage();\r\n\r\n      if (activeSection) {\r\n        this.renderer.addClass(activeSection.item, 'active');\r\n      }\r\n\r\n      if (activeSlide) {\r\n        this.renderer.addClass(activeSlide.item, 'active');\r\n      }\r\n\r\n      this.initFullpage();\r\n    };\r\n  }\r\n\r\n  destroyFullpage() {\r\n    if (typeof this.fullpage_api !== 'undefined' && typeof this.fullpage_api.destroy !== 'undefined') {\r\n      this.fullpage_api.destroy('all');\r\n    }\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.destroyFullpage();\r\n  }\r\n}\r\n\r\n@Directive({\r\n  // tslint:disable-next-line:directive-selector\r\n  selector : '[href]'\r\n})\r\nexport class AnchorLinkDirective {\r\n  @Input() href: string;\r\n\r\n  @HostListener('click', ['$event']) onClick(event) {\r\n    if (this.href.length > 0 && this.href[0] === '#') {\r\n      event.preventDefault();\r\n      window.location.hash = this.href;\r\n    }\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { FullpageDirective, AnchorLinkDirective } from './fullpage.directive';\r\n\r\n@NgModule({\r\n  imports: [],\r\n  declarations: [FullpageDirective, AnchorLinkDirective],\r\n  exports: [FullpageDirective, AnchorLinkDirective]\r\n})\r\nexport class AngularFullpageModule { }\r\n"]}